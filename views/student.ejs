<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Student</title>

    <style>
      table {
        border-collapse: collapse;
        width: 100%;
      }

      th,
      td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
    </style>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"/>
  </head>

  <body>
    <h1>Student Dashboard</h1>

    <form action="/logout?_method=DELETE" method="POST">
      <button
        class="btn btn-outline-dark"
        type="submit">
        Logout
      </button>
    </form>

    <h1>Timetable</h1>
    <table class="table-bordered">
      <tr>
        <th>Time Slot</th>
        <th>Subject</th>
      </tr>
      <% const currentDate=new Date(); %> <% const options={ weekday: 'long' };
      %> <% const currentDay=currentDate.toLocaleDateString('en-US',
      options).substring(0,3).toLowerCase(); %> <%
      Object.keys(timetable[currentDay]).forEach((timeSlot)=> { %> <% if
      (timetable[currentDay][timeSlot]==="BREAK" ) { %>
      <tr>
        <td><%= timeSlot %></td>
        <td><em>BREAK</em></td>
      </tr>
      <% } else { %>
      <tr>
        <td><%= timeSlot %></td>
        <td>
          <% if(timetable[currentDay][timeSlot].SUBJECT){ %> <%=
          timetable[currentDay][timeSlot].SUBJECT %>
          <br />
          <%= timetable[currentDay][timeSlot].TEACHER %> <% } else { %> <%
          Object.keys(timetable[currentDay][timeSlot]).forEach((batches)=> { %>
          <%= batches %> <%= timetable[currentDay][timeSlot][batches] %>
          <br />
          <% }) %> <% } %>
        </td>
      </tr>
      <% }; %> <% }) %>
    </table>
  </body>
</html>
